<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <template id="virsat_theme.web_login_layout" name="VIRSAT Web Login Layout" inherit_id="web.login_layout">
        <xpath expr="//div[hasclass('border-top')]" position="replace">
            <div/>
        </xpath>
        <xpath expr="//div[hasclass('card-body')]//img" position="replace">
            <t t-set="company" t-value="request.env['res.company'].sudo().search([('set_login_logo', '=', True)], limit=1)"/>
            <t t-if="company">
                <img t-attf-src="data:image/png;base64,{{company.logo}}" alt="Logo" t-att-style="'max-height:{}px; max-width: 100%; width:auto;'.format(company.logo_login_height)"/>
            </t>
            <t t-else="">
                <img src="/virsat/static/description/virsat-logo.svg" alt="Logo" style="max-height:120px; max-width: 100%; width:auto"/>
            </t>
        </xpath>
        <xpath expr="//div[hasclass('card-body')]" position="attributes">
            <attribute name="class" add="p-4" separator=" "/>
        </xpath>
        <xpath expr="//div[hasclass('container')]" position="attributes">
            <attribute name="class" add="h-100 w-100 vr-web-login-container" separator=" "/>
        </xpath>
    </template>

    <template id="virsat_theme.theme_colors" name="VIRSAT Theme Colors" inherit_id="web.layout">
        <xpath expr="//body" position="inside">
            <t t-set="vr_color" t-value="request.env.company.theme_color"/>
            <t t-set="vr_color_light" t-value="request.env.company.theme_color_lighter or color"/>
            <style>
                <t t-set="vr_navbar_theme" t-value="'.o_main_navbar {background-color: %s !important;border-bottom: 0px;}' % vr_color"/>
                <t t-set="vr_app_background" t-value="'.o_navbar_apps_menu .dropdown-menu-custom {background: url(/web_responsive/static/src/img/home-menu-bg-overlay.svg), linear-gradient(to bottom, %s, %s);}' % (vr_color_light, vr_color)"/>
                <t t-if="vr_color" t-out="vr_navbar_theme"/>
                <t t-out="vr_app_background"/>
            </style>

       </xpath>
    </template>
</odoo>